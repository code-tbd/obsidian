# 调度器
## 1. 调度循环
## 2. 调度触发时机
![调度触发时机](Pasted%20image%2020230801111252.png)  
**图 2-1 调度触发时机**  
- `exitsyscall0` 系统调用
- `goexit0` 协程结束
- `goschedImpl` 协作式调度
- `goyield_m` 未知
- `mstart1` 线程开启
- `park_m` 挂起
- `preemptPark` 抢占式调度
### 2.1 park_m
```go
casgstatus(gp, _Grunning, _Gwaiting)  
dropg()  
schedule()  
```